# test-count-word-native

Задачка:

1. Есть книга в формате txt неопределённо большого размера.
2. Есть словарь в формате txt с произвольным количеством слов (допустим, что их не более 1000).
3. Задача - как можно быстрее посчитать и вывести в результат количество вхождений в книге каждого слова из словаря.

На чистом PHP, без применения функций типа substr_count и подобных.
Учесть, что слово "век" не должно посчитаться в слове "веко" или "человек".

# результат выполнения скрипта на локальной машинке в докере ( php 7.4 )

+ Размер файла книжки: 9.03 Мб
+ Сколько слов ищем: 1027
+ Время выполнения скрипта: 37.409 сек.
+ Использовано памяти: 151.66 Kбайт

# каких слов сколько найдено

Array
(
    [огонь] => 108
    [вода] => 158
    [земля] => 88
    [я] => 26122
    [энергия] => 250
    [сила] => 842
    [любовь] => 104
    [полного] => 64
    [доверия] => 10
    [к] => 4135
    [дону] => 363
    [Хуану] => 418
    [Хенаро ] => 1609
    [было ] => 4363
    [достаточно ] => 317
    [для ] => 3472
    [отклонения ] => 4
    [всех ] => 445
    [моих ] => 361
    [рациональных] => 8
    [сердце] => 98
    [космос] => 1
    [жесть ] => 0
    [агонь] => 0
    [год] => 25
    [человек] => 898
    [время] => 1798
    [дело] => 264
    [жизнь] => 437
    [день] => 420
    [рука] => 52
    [раз] => 1150
    [работа] => 29
    [слово] => 98
    [место] => 488
    [лицо] => 233
    [друг] => 311
    [глаз] => 193
    [вопрос] => 301
    [дом] => 311
    [сторона] => 40
    [страна] => 2
    [мир] => 762
    [случай] => 85
    [голова] => 96
    [ребенок] => 68
    [конец] => 74
    [вид] => 165
    [система] => 18
    [часть] => 349
    [город] => 126
    [отношение] => 52
    [женщина] => 328
    [деньги] => 44
    [машина] => 40
    [отец] => 54
    [проблема] => 56
    [час] => 53
    [право] => 6
    [нога] => 11
    [решение] => 100
    [дверь] => 176
    [образ] => 108
    [история] => 57
    [власть] => 46
    [закон] => 8
    [война] => 6
    [бог] => 30
    [голос] => 295
    [тысяча] => 1
    [книга] => 25
    [возможность] => 176
    [результат] => 70
    [ночь] => 112
    [стол] => 41
    [имя] => 71
    [область] => 49
    [статья] => 3
    [число] => 34
    [компания] => 7
    [народ] => 3
    [жена] => 35
    [группа] => 36
    [развитие] => 11
    [процесс] => 76
    [суд] => 3
    [условие] => 12
    [средство] => 26
    [начало] => 82
    [свет] => 228
    [пора] => 26
    [путь] => 200
    [душа] => 15
    [уровень] => 62
    [форма] => 64
    [связь] => 47
    [минута] => 2
    [улица] => 8
    [вечер] => 27
    [качество] => 27
    [мысль] => 272
    [дорога] => 17
    [мать] => 51
    [действие] => 110
    [месяц] => 12
    [государство] => 0
    [язык] => 24
    [взгляд] => 179
    [мама] => 9
    [век] => 7
    [школа] => 0
    [цель] => 78
    [общество] => 4
    [деятельность] => 25
    [организация] => 6
    [президент] => 0
    [комната] => 34
    [порядок] => 86
    [момент] => 717
    [театр] => 0
    [письмо] => 6
    [утро] => 47
    [помощь] => 71
    [ситуация] => 32
    [роль] => 38
    [рубль] => 0
    [смысл] => 103
    [состояние] => 317
    [квартира] => 1
    [орган] => 1
    [внимание] => 579
    [тело] => 689
    [труд] => 7
    [сын] => 21
    [мера] => 1
    [смерть] => 261
    [рынок] => 5
    [программа] => 0
    [задача] => 73
    [предприятие] => 3
    [окно] => 27
    [разговор] => 150
    [правительство] => 1
    [семья] => 14
    [производство] => 0
    [информация] => 10
    [положение] => 188
    [центр] => 32
    [ответ] => 92
    [муж] => 5
    [автор] => 0
    [стена] => 28
    [интерес] => 42
    [федерация] => 0
    [правило] => 121
    [управление] => 17
    [мужчина] => 97
    [идея] => 99
    [партия] => 19
    [совет] => 23
    [счет] => 61
    [движение] => 195
    [вещь] => 159
    [материал] => 2
    [неделя] => 3
    [чувство] => 476
    [глава] => 0
    [наука] => 6
    [ряд] => 53
    [газета] => 0
    [причина] => 77
    [плечо] => 45
    [цена] => 7
    [план] => 23
    [речь] => 33
    [точка] => 247
    [основа] => 6
    [товарищ] => 1
    [культура] => 2
    [данные] => 13
    [мнение] => 42
    [документ] => 0
    [институт] => 0
    [ход] => 31
    [проект] => 2
    [встреча] => 45
    [директор] => 1
    [срок] => 4
    [палец] => 22
    [опыт] => 70
    [служба] => 1
    [судьба] => 43
    [девушка] => 34
    [очередь] => 51
    [лес] => 8
    [состав] => 11
    [член] => 6
    [количество] => 71
    [событие] => 73
    [объект] => 25
    [зал] => 6
    [создание] => 8
    [значение] => 129
    [период] => 43
    [шаг] => 75
    [брат] => 6
    [искусство] => 136
    [структура] => 9
    [номер] => 11
    [пример] => 42
    [исследование] => 10
    [гражданин] => 0
    [игра] => 15
    [начальник] => 1
    [рост] => 17
    [тема] => 18
    [принцип] => 34
    [метод] => 38
    [тип] => 35
    [фильм] => 8
    [край] => 45
    [гость] => 0
    [воздух] => 56
    [характер] => 26
    [борьба] => 26
    [использование] => 38
    [размер] => 9
    [образование] => 12
    [мальчик] => 39
    [кровь] => 13
    [район] => 16
    [небо] => 69
    [армия] => 0
    [класс] => 4
    [представитель] => 0
    [участие] => 14
    [девочка] => 20
    [политика] => 0
    [герой] => 6
    [картина] => 38
    [доллар] => 0
    [спина] => 21
    [территория] => 0
    [пол] => 111
    [поле] => 119
    [изменение] => 51
    [направление] => 95
    [рисунок] => 5
    [течение] => 252
    [церковь] => 34
    [банк] => 8
    [сцена] => 26
    [население] => 1
    [большинство] => 42
    [музыка] => 7
    [правда] => 74
    [свобода] => 46
    [память] => 58
    [команда] => 19
    [союз] => 0
    [врач] => 4
    [договор] => 4
    [дерево] => 39
    [факт] => 124
    [хозяин] => 18
    [природа] => 22
    [угол] => 18
    [телефон] => 0
    [позиция] => 23
    [двор] => 15
    [писатель] => 4
    [самолет] => 6
    [объем] => 17
    [род] => 14
    [солнце] => 82
    [вера] => 5
    [берег] => 14
    [спектакль] => 2
    [фирма] => 0
    [способ] => 198
    [завод] => 1
    [цвет] => 46
    [журнал] => 0
    [руководитель] => 2
    [специалист] => 1
    [оценка] => 3
    [регион] => 0
    [песня] => 11
    [процент] => 5
    [родитель] => 0
    [море] => 15
    [требование] => 19
    [основание] => 9
    [половина] => 13
    [роман] => 1
    [круг] => 36
    [анализ] => 6
    [стихи] => 13
    [автомобиль] => 4
    [экономика] => 0
    [литература] => 0
    [бумага] => 1
    [поэт] => 5
    [степень] => 10
    [господин] => 2
    [надежда] => 6
    [предмет] => 69
    [вариант] => 3
    [министр] => 0
    [граница] => 7
    [дух] => 210
    [модель] => 5
    [операция] => 2
    [пара] => 11
    [сон] => 132
    [название] => 29
    [ум] => 137
    [повод] => 6
    [старик] => 97
    [миллион] => 5
    [успех] => 17
    [счастье] => 18
    [ребята] => 5
    [кабинет] => 10
    [магазин] => 19
    [пространство] => 35
    [выход] => 15
    [удар] => 86
    [база] => 0
    [знание] => 184
    [текст] => 7
    [защита] => 5
    [руководство] => 20
    [площадь] => 24
    [сознание] => 216
    [возраст] => 13
    [участник] => 1
    [участок] => 30
    [пункт] => 13
    [линия] => 21
    [желание] => 101
    [папа] => 2
    [доктор] => 9
    [губа] => 5
    [дочь] => 15
    [среда] => 7
    [председатель] => 0
    [представление] => 39
    [солдат] => 3
    [художник] => 2
    [волос] => 17
    [оружие] => 8
    [соответствие] => 1
    [ветер] => 169
    [парень] => 19
    [зрение] => 21
    [генерал] => 0
    [понятие] => 16
    [строительство] => 1
    [ухо] => 109
    [грудь] => 34
    [нос] => 42
    [страх] => 189
    [услуга] => 0
    [содержание] => 10
    [радость] => 22
    [безопасность] => 5
    [продукт] => 5
    [комплекс] => 4
    [бизнес] => 5
    [сад] => 4
    [сотрудник] => 0
    [лето] => 2
    [курс] => 13
    [предложение] => 27
    [рот] => 137
    [технология] => 0
    [реформа] => 5
    [отсутствие] => 30
    [собака] => 57
    [камень] => 91
    [будущее] => 11
    [рассказ] => 51
    [контроль] => 80
    [река] => 12
    [продукция] => 0
    [сумма] => 4
    [техника] => 24
    [здание] => 8
    [сфера] => 12
    [необходимость] => 44
    [фонд] => 1
    [подготовка] => 6
    [лист] => 36
    [республика] => 0
    [хозяйство] => 0
    [воля] => 82
    [бюджет] => 0
    [снег] => 0
    [деревня] => 0
    [мужик] => 0
    [элемент] => 13
    [обстоятельство] => 2
    [немец] => 0
    [победа] => 1
    [источник] => 28
    [звезда] => 4
    [выбор] => 58
    [масса] => 31
    [итог] => 4
    [сестра] => 7
    [практика] => 14
    [проведение] => 0
    [карман] => 6
    [слава] => 3
    [кухня] => 3
    [определение] => 19
    [функция] => 8
    [войско] => 0
    [комиссия] => 0
    [применение] => 10
    [капитан] => 0
    [работник] => 1
    [обеспечение] => 0
    [офицер] => 2
    [фамилия] => 3
    [предел] => 4
    [выборы] => 1
    [ученый] => 10
    [бутылка] => 7
    [бой] => 2
    [теория] => 3
    [зона] => 1
    [отдел] => 4
    [зуб] => 0
    [разработка] => 1
    [личность] => 42
    [гора] => 3
    [товар] => 3
    [метр] => 2
    [праздник] => 3
    [влияние] => 26
    [читатель] => 1
    [удовольствие] => 34
    [актер] => 34
    [слеза] => 0
    [ответственность] => 35
    [учитель] => 75
    [акт] => 38
    [боль] => 86
    [множество] => 49
    [особенность] => 7
    [показатель] => 0
    [корабль] => 0
    [звук] => 253
    [впечатление] => 104
    [частность] => 0
    [детство] => 3
    [вывод] => 21
    [профессор] => 31
    [доля] => 4
    [норма] => 0
    [прошлое] => 13
    [командир] => 0
    [коридор] => 8
    [поддержка] => 1
    [рамка] => 0
    [враг] => 25
    [этап] => 4
    [черт] => 31
    [дед] => 19
    [собрание] => 3
    [прием] => 13
    [болезнь] => 9
    [клетка] => 9
    [кожа] => 18
    [заявление] => 73
    [попытка] => 29
    [сравнение] => 11
    [расчет] => 14
    [депутат] => 0
    [комитет] => 0
    [знак] => 174
    [дядя] => 4
    [учет] => 1
    [хлеб] => 4
    [чай] => 1
    [режим] => 2
    [целое] => 20
    [вирус] => 0
    [выражение] => 51
    [здоровье] => 16
    [зима] => 0
    [десяток] => 0
    [глубина] => 5
    [сеть] => 2
    [студент] => 3
    [секунда] => 4
    [скорость] => 41
    [поиск] => 13
    [суть] => 39
    [налог] => 0
    [ошибка] => 21
    [доход] => 0
    [режиссер] => 1
    [поверхность] => 74
    [ощущение] => 411
    [карта] => 5
    [клуб] => 0
    [станция] => 0
    [революция] => 1
    [колено] => 6
    [министерство] => 0
    [стекло] => 21
    [этаж] => 2
    [высота] => 7
    [бабушка] => 13
    [трубка] => 16
    [газ] => 2
    [мастер] => 22
    [поведение] => 61
    [столица] => 1
    [механизм] => 2
    [передача] => 2
    [способность] => 108
    [подход] => 9
    [существование] => 32
    [исполнение] => 5
    [кино] => 14
    [сожаление] => 9
    [заместитель] => 0
    [ресурс] => 0
    [акция] => 0
    [рождение] => 2
    [администрация] => 0
    [стоимость] => 0
    [улыбка] => 38
    [артист] => 1
    [сосед] => 0
    [фраза] => 5
    [фигура] => 30
    [субъект] => 3
    [реакция] => 44
    [список] => 20
    [фотография] => 1
    [журналист] => 0
    [май] => 1
    [нарушение] => 4
    [заседание] => 0
    [толпа] => 4
    [больница] => 0
    [существо] => 138
    [свойство] => 16
    [долг] => 20
    [поколение] => 4
    [животное] => 63
    [схема] => 5
    [усилие] => 53
    [отличие] => 29
    [остров] => 15
    [противник] => 5
    [волна] => 37
    [реализация] => 0
    [страница] => 0
    [формирование] => 10
    [житель] => 0
    [красота] => 4
    [птица] => 32
    [растение] => 52
    [тень] => 53
    [явление] => 15
    [храм] => 0
    [запах] => 24
    [водка] => 0
    [наличие] => 5
    [ужас] => 51
    [одежда] => 23
    [кресло] => 2
    [больной] => 5
    [поезд] => 1
    [университет] => 14
    [традиция] => 2
    [адрес] => 5
    [декабрь] => 0
    [ладонь] => 20
    [сведение] => 0
    [цветок] => 1
    [лидер] => 7
    [октябрь] => 0
    [занятие] => 11
    [сентябрь] => 0
    [помещение] => 5
    [январь] => 0
    [зритель] => 1
    [редакция] => 1
    [стиль] => 5
    [весна] => 0
    [фактор] => 9
    [август] => 0
    [известие] => 3
    [зависимость] => 6
    [охрана] => 0
    [оборудование] => 0
    [концерт] => 0
    [отделение] => 0
    [расход] => 2
    [выставка] => 0
    [милиция] => 0
    [переход] => 22
    [эпоха] => 3
    [запад] => 24
    [произведение] => 1
    [родина] => 0
    [собственность] => 3
    [тайна] => 20
    [трава] => 35
    [лагерь] => 0
    [имущество] => 3
    [кровать] => 25
    [аппарат] => 1
    [середина] => 2
    [март] => 0
    [клиент] => 0
    [дама] => 13
    [фронт] => 0
    [отрасль] => 0
    [стул] => 22
    [беседа] => 2
    [законодательство] => 0
    [продажа] => 2
    [повышение] => 1
    [музей] => 0
    [след] => 9
    [полковник] => 0
    [сомнение] => 8
    [понимание] => 50
    [апрель] => 0
    [князь] => 1
    [рыба] => 6
    [дума] => 0
    [кодекс] => 1
    [сутки] => 2
    [чудо] => 4
    [шея] => 10
    [судья] => 1
    [крыша] => 5
    [настроение] => 107
    [поток] => 45
    [должность] => 1
    [преступление] => 1
    [мозг] => 10
    [честь] => 9
    [пост] => 3
    [еврей] => 1
    [июнь] => 0
    [сотня] => 0
    [дождь] => 25
    [лестница] => 3
    [дача] => 0
    [установка] => 4
    [появление] => 15
    [получение] => 3
    [образец] => 8
    [труба] => 2
    [главное] => 19
    [осень] => 1
    [костюм] => 38
    [баба] => 0
    [ценность] => 19
    [обязанность] => 5
    [пьеса] => 1
    [таблица] => 0
    [вино] => 1
    [воспоминание] => 76
    [лошадь] => 13
    [коллега] => 1
    [организм] => 5
    [ученик] => 36
    [учреждение] => 1
    [открытие] => 15
    [том] => 1566
    [черта] => 22
    [характеристика] => 3
    [выполнение] => 11
    [оборона] => 0
    [выступление] => 1
    [температура] => 7
    [перспектива] => 7
    [подруга] => 4
    [приказ] => 11
    [жертва] => 6
    [ресторан] => 19
    [километр] => 0
    [спор] => 16
    [вкус] => 11
    [признак] => 6
    [промышленность] => 0
    [американец] => 5
    [лоб] => 26
    [заключение] => 18
    [восток] => 37
    [исключение] => 2
    [ключ] => 16
    [постановление] => 0
    [слой] => 10
    [бок] => 46
    [июль] => 0
    [перевод] => 1
    [секретарь] => 1
    [кусок] => 33
    [слух] => 7
    [польза] => 2
    [звонок] => 1
    [обстановка] => 7
    [чиновник] => 3
    [соглашение] => 25
    [деталь] => 34
    [русский] => 0
    [тишина] => 29
    [зарплата] => 0
    [билет] => 4
    [подарок] => 46
    [тюрьма] => 0
    [ящик] => 19
    [конкурс] => 0
    [книжка] => 2
    [изучение] => 12
    [просьба] => 10
    [царь] => 0
    [публика] => 2
    [смех] => 92
    [сообщение] => 5
    [угроза] => 6
    [беда] => 20
    [блок] => 4
    [достижение] => 39
    [назначение] => 3
    [реклама] => 2
    [портрет] => 3
    [масло] => 0
    [стакан] => 1
    [урок] => 39
    [часы] => 54
    [крик] => 58
    [творчество] => 5
    [телевизор] => 2
    [инструмент] => 8
    [концепция] => 5
    [лейтенант] => 0
    [экран] => 9
    [дно] => 25
    [реальность] => 77
    [канал] => 1
    [мясо] => 30
    [знакомый] => 5
    [щека] => 0
    [конфликт] => 12
    [переговоры] => 2
    [запись] => 3
    [вагон] => 1
    [площадка] => 3
    [последствие] => 1
    [сотрудничество] => 2
    [зеркало] => 47
    [тон] => 43
    [академия] => 0
    [палата] => 0
    [потребность] => 21
    [ноябрь] => 0
    [увеличение] => 2
    [дурак] => 27
    [поездка] => 9
    [обед] => 3
    [потеря] => 17
    [февраль] => 0
    [мероприятие] => 1
    [парк] => 15
    [принятие] => 8
    [устройство] => 6
    [вещество] => 3
    [категория] => 2
    [сезон] => 2
    [гостиница] => 2
    [издание] => 1
    [объединение] => 2
    [темнота] => 31
    [человечество] => 11
    [колесо] => 15
    [опасность] => 20
    [разрешение] => 0
    [воздействие] => 31
    [коллектив] => 0
    [камера] => 0
    [запас] => 6
    [следствие] => 14
    [длина] => 1
    [крыло] => 9
    [округ] => 0
    [фон] => 3
    [кандидат] => 2
    [родственник] => 0
    [давление] => 64
    [присутствие] => 71
    [взаимодействие] => 14
    [доска] => 3
    [партнер] => 9
    [двигатель] => 1
    [шум] => 40
    [достоинство] => 3
    [грех] => 0
    [нож] => 10
    [полет] => 21
    [страсть] => 11
    [испытание] => 24
    [TRUE] => 0
    [оплата] => 1
    [разница] => 30
    [водитель] => 7
    [пакет] => 7
    [снижение] => 1
    [формула] => 2
    [живот] => 64
    [капитал] => 0
    [мост] => 65
    [новость] => 2
    [эффект] => 75
    [вход] => 13
    [губернатор] => 0
    [доклад] => 0
    [смена] => 2
    [убийство] => 2
    [эксперт] => 1
    [автобус] => 14
    [платье] => 17
    [кадр] => 0
    [тетя] => 11
    [общение] => 15
    [психология] => 0
    [лев] => 19
    [порог] => 26
    [проверка] => 3
    [процедура] => 21
    [рабочий] => 1
    [ремонт] => 2
    [обращение] => 6
    [обучение] => 28
    [ожидание] => 7
    [памятник] => 0
    [корень] => 47
    [наблюдение] => 29
    [буква] => 1
    [доказательство] => 5
    [признание] => 8
    [постель] => 39
    [штаб] => 0
    [владелец] => 12
    [компьютер] => 0
    [инженер] => 2
    [старуха] => 3
    [лодка] => 0
    [ракета] => 0
    [серия] => 8
    [шутка] => 23
    [вершина] => 14
    [выпуск] => 0
    [кулак] => 6
    [лед] => 4
    [торговля] => 0
    [нефть] => 0
    [молодежь] => 1
    [цифра] => 1
    [корпус] => 2
    [недостаток] => 21
    [сапог] => 5
    [сущность] => 31
    [талант] => 5
    [эффективность] => 5
    [кофе] => 15
    [полоса] => 10
    [основное] => 6
    [рассмотрение] => 0
    [сбор] => 2
    [штат] => 7
    [следователь] => 0
    [жилье] => 0
    [мешок] => 44
    [описание] => 65
    [куст] => 22
    [отказ] => 10
    [замок] => 4
    [редактор] => 2
    [дворец] => 0
    [забота] => 7
    [пиво] => 4
    [диван] => 1
    [столик] => 7
    [эксперимент] => 2
    [печать] => 7
    [кольцо] => 23
    [пистолет] => 0
    [воспитание] => 4
    [начальство] => 2
    [профессия] => 0
    [ворота] => 9
    [добро] => 4
    [дружба] => 5
    [покой] => 12
    [риск] => 5
    [окончание] => 4
    [дым] => 21
    [брак] => 1
    [величина] => 0
    [записка] => 1
    [инициатива] => 1
    [совесть] => 0
    [активность] => 1
    [кость] => 2
    [спорт] => 0
    [кредит] => 1
    [господь] => 3
    [майор] => 0
    [конференция] => 0
    [потолок] => 10
    [библиотека] => 0
    [помощник] => 13
    [конструкция] => 2
    [отдых] => 2
    [ручка] => 0
    [металл] => 0
    [молоко] => 1
    [прокурор] => 0
    [транспорт] => 1
    [поэзия] => 0
    [соединение] => 2
    [краска] => 0
    [расстояние] => 40
    [мечта] => 0
    [село] => 5
    [еда] => 9
    [зло] => 6
    [подразделение] => 0
    [сюжет] => 0
    [рубеж] => 2
    [сигнал] => 19
    [атмосфера] => 5
    [крест] => 3
    [вес] => 39
    [взрыв] => 18
    [контакт] => 42
    [сигарета] => 0
    [восторг] => 14
    [золото] => 1
    [почва] => 9
    [премия] => 0
    [король] => 7
    [подъезд] => 0
    [шанс] => 50
    [автомат] => 1
    [заказ] => 5
    [мальчишка] => 2
    [очки] => 6
    [миг] => 72
    [штука] => 7
    [чтение] => 7
    [поселок] => 0
    [свидетель] => 22
    [ставка] => 3
    [сумка] => 4
    [удивление] => 33
    [хвост] => 10
    [песок] => 2
    [поворот] => 11
    [возвращение] => 13
    [мгновение] => 189
    [статус] => 0
    [озеро] => 1
    [строй] => 9
    [параметр] => 0
    [сказка] => 3
    [тенденция] => 8
    [вина] => 9
    [дыхание] => 80
    [версия] => 3
    [масштаб] => 4
    [монастырь] => 0
    [хозяйка] => 5
    [дочка] => 1
    [танец] => 24
    [эксплуатация] => 0
    [коммунист] => 0
    [пенсия] => 0
    [приятель] => 3
    [объяснение] => 122
    [набор] => 11
    [производитель] => 0
    [пыль] => 12
    [философия] => 0
    [мощность] => 2
    [обязательство] => 4
    [уход] => 9
    [горло] => 28
    [кризис] => 1
    [указание] => 9
    [плата] => 3
    [яблоко] => 0
    [препарат] => 0
    [действительность] => 3
    [москвич] => 0
    [остаток] => 16
    [изображение] => 21
    [сделка] => 2
    [сочинение] => 0
    [покупатель] => 0
    [танк] => 0
    [затрата] => 0
    [строка] => 0
    [единица] => 0
    [обработка] => 0
    [чемпионат] => 0
)